define("dist/styles/component/dialog/src/dialog",["gallery/jquery/1.8.2/jquery","./dialog_css.css"],function(e,t,i){function s(e,t){s.__zindex=9e3,s.__count=1;var i={title:"",showTitle:!0,closeText:"[关闭]",draggable:!0,modal:!0,center:!0,fixed:!0,time:0,id:!1},t=o.extend(i,t);t.id=t.id?t.id:"dialog-"+s.__count;var d=t.id+"-overlay",n=null,l=!1;o.browser.msie;var c=o.browser.msie&&"6.0"==o.browser.version,a={width:o(window).width()+o(document).scrollLeft(),height:o(document).height()},r=t.showTitle?'<div class="bar"><span class="title">'+(""===t.title||t.title===!1?"":t.title)+'</span><a class="close">'+t.closeText+"</a></div>":"",h=o('<div id="'+t.id+'" class="dialog">'+r+'<div class="Dcontent"></div></div>').hide();o("body").append(h),this.resetPos=function(){if(t.center){var e=o(".Dcontent",h).outerWidth();h.css("width",e);var i=(o(window).width()-h.width())/2,s=(o(window).height()-h.height())/2;0>s&&(s=0),!c&&t.fixed?h.css({top:s,left:i}):h.css({top:s+o(document).scrollTop(),left:i+o(document).scrollLeft()})}};var u=function(){function e(e){var t=window.event||e,s=parseInt(h.css("top"))+(t.clientY-i.y),o=parseInt(h.css("left"))+(t.clientX-i.x);h.css({top:s,left:o}),i.x=t.clientX,i.y=t.clientY}t.modal&&(o("body").append('<div id="'+d+'" class="dialog-overlay"></div>'),o("#"+d).css("width",a.width).css("height",a.height).css("z-index",++s.__zindex),o("#"+d).css({left:0,top:0,position:"absolute"}).hide()),h.css({"z-index":++s.__zindex,position:t.fixed?"fixed":"absolute"}),c&&t.fixed&&(h.css("position","absolute"),o(window).scroll(function(){var e={top:o(document).scrollTop()+o(window).height()/2-h.height()/2+"px",left:o(document).scrollLeft()+o(window).width()/2-h.outerWidth()/2+"px"};h.css({top:e.top,left:e.left})}));var i={x:0,y:0};h.find(".bar").mousedown(function(s){if(t.draggable){var d=window.event||s;i.x=d.clientX,i.y=d.clientY,o(document).bind("mousemove",e)}}),o(document).mouseup(function(){o(document).unbind("mousemove",e)}),h.find(".close").bind("click",this.close),h.bind("mousedown",function(){h.css("z-index",++s.__zindex)}),0!=t.time&&(n=setTimeout(this.close,t.time))};this.setContent=function(e){var t=h.find(".Dcontent"),i=e.width?e.width:"",s=e.height?e.height:"",d=this;if("object"==typeof e)switch(e.type.toLowerCase()){case"id":t.append(o("#"+e.value)),o("#"+e.value).css("display","block");break;case"img":t.html("加载中..."),o('<img alt="" />').load(function(){t.empty().append(o(this)),d.resetPos()}).attr("src",e.value);break;case"url":t.html("加载中..."),o.ajax({url:e.value,success:function(e){t.html(e),d.resetPos()},error:function(){t.html("出错啦")}});break;case"iframe":t.append(o('<iframe src="'+e.value+'" width='+i+" height="+s+" />"));break;case"text":default:!!i&&t.width(i),!!s&&t.height(s),t.html(e.value)}else t.html(e)},this.show=function(){o("select").css({visibility:"hidden"}),(void 0==t.beforeShow||t.beforeShow())&&(t.modal&&o("#"+d).css("display","block"),h.css("display","block"),void 0!=t.afterShow&&t.afterShow(),l=!0,0!=t.time&&(n=setTimeout(this.close,t.time)),this.resetPos())},this.hide=function(){l&&(void 0==t.beforeHide||t.beforeHide())&&(h.css("display","none"),void 0!=t.afterHide&&t.afterHide(),t.modal&&o("#"+d).css("display","none"),l=!1)},this.close=function(e,i){o("select").css({visibility:"visible"}),(void 0==t.beforeClose||t.beforeClose())&&(i||h.find(".Dcontent:eq(0)").appendTo("body").css("display","none"),h.remove(),l=!1,void 0!=t.afterClose&&t.afterClose(),t.modal&&o("#"+d).css("display","none").remove(),clearTimeout(n))},this.resetOverlay=function(){o("#"+d).css({width:o(window).width()+o(document).scrollLeft(),height:o(document).height(),left:0,top:0})},u.call(this),this.setContent(e),s.__count++,s.__zindex++}var o=e("gallery/jquery/1.8.2/jquery");e("./dialog_css.css"),i.exports=s});